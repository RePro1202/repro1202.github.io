---
title: C++ ì°¸ì¡°
author: RePro
date: 2024-10-05 10:00:00 +0900
categories: [Programming, C++]
tags: [c++]
---

# C++ ì°¸ì¡°(Reference) ì •ë¦¬

## ğŸ“Œ 1. C++ ì°¸ì¡°(Reference)ë€?

ì°¸ì¡°(Reference)ëŠ” **ë³€ìˆ˜ì˜ ë³„ì¹­(Alias)** ìœ¼ë¡œ, ì›ë³¸ ë³€ìˆ˜ì™€ ê°™ì€ ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ê³µìœ í•©ë‹ˆë‹¤.

```cpp
int x = 10;
int& ref = x;  // xë¥¼ ì°¸ì¡°í•˜ëŠ” ref ì„ ì–¸
ref = 20;  // xì˜ ê°’ë„ 20ìœ¼ë¡œ ë³€ê²½ë¨
std::cout << x;  // ì¶œë ¥: 20
```
ğŸ“Œ **`ref`ì™€ `x`ëŠ” ê°™ì€ ë©”ëª¨ë¦¬ ê³µê°„ì„ ê³µìœ í•˜ë¯€ë¡œ `ref`ë¥¼ ë³€ê²½í•˜ë©´ `x`ë„ ë³€ê²½ë©ë‹ˆë‹¤.**

---

## âœ… 2. ì°¸ì¡°ì˜ ê¸°ë³¸ íŠ¹ì§•
1. **í•œ ë²ˆ ì°¸ì¡°í•˜ë©´ ë³€ê²½ ë¶ˆê°€** â†’ `int& ref = x;` ì´í›„ `ref`ë¥¼ ë‹¤ë¥¸ ë³€ìˆ˜ì— ì°¸ì¡°í•  ìˆ˜ ì—†ìŒ.
2. **ì´ˆê¸°í™”ê°€ ë°˜ë“œì‹œ í•„ìš”** â†’ `int& ref;` ëŠ” **ì˜¤ë¥˜ ë°œìƒ!** (ì°¸ì¡°ëŠ” `nullptr`ì´ ë  ìˆ˜ ì—†ìŒ).
3. **ë©”ëª¨ë¦¬ ì£¼ì†Œ ê³µìœ ** â†’ ì°¸ì¡°ëŠ” ì›ë³¸ ë³€ìˆ˜ì™€ ê°™ì€ ì£¼ì†Œë¥¼ ê°€ì§.

```cpp
int x = 10;
int& ref = x;
std::cout << &x << " == " << &ref << std::endl; // ê°™ì€ ì£¼ì†Œ
```

---

## âœ… 3. ì°¸ì¡°ì˜ ì¢…ë¥˜

### ğŸ”¹ (1) ì¼ë°˜ ì°¸ì¡° (Lvalue Reference)
```cpp
int x = 10;
int& ref = x;
ref = 30;  // xë„ 30ìœ¼ë¡œ ë³€ê²½ë¨
```

### ğŸ”¹ (2) ìƒìˆ˜ ì°¸ì¡° (Const Reference)
```cpp
const int x = 10;
const int& ref = x;  // xë¥¼ ì½ê¸° ì „ìš©ìœ¼ë¡œ ì°¸ì¡°
```

### ğŸ”¹ (3) Rvalue ì°¸ì¡° (Move Reference, `&&`)
```cpp
int&& rref = 10;  // ì„ì‹œ ê°’(10)ì„ ì°¸ì¡°
std::cout << rref;  // 10
```
ğŸ“Œ **Rvalue ì°¸ì¡°(`&&`)ë¥¼ ì‚¬ìš©í•˜ë©´ ë¶ˆí•„ìš”í•œ ë³µì‚¬ë¥¼ ë°©ì§€í•˜ì—¬ ì„±ëŠ¥ ìµœì í™” ê°€ëŠ¥**.
[ì´ê³³ ì°¸ê³ ](2024-10-16-Ravlue-move.md)

---

## âœ… 4. ì°¸ì¡° vs í¬ì¸í„° ë¹„êµ

| êµ¬ë¶„ | ì°¸ì¡° (`&`) | í¬ì¸í„° (`*`) |
|------|-----------|-------------|
| **NULL ê°€ëŠ¥ ì—¬ë¶€** | âŒ ë¶ˆê°€ëŠ¥ | âœ… ê°€ëŠ¥ (`nullptr`) |
| **ì´ˆê¸°í™” ì—¬ë¶€** | âœ… ë°˜ë“œì‹œ ì´ˆê¸°í™” í•„ìš” | âŒ í•„ìš” ì—†ìŒ |
| **ë³€ê²½ ê°€ëŠ¥ ì—¬ë¶€** | âŒ í•œ ë²ˆ ì„¤ì •í•˜ë©´ ë³€ê²½ ë¶ˆê°€ | âœ… ê°€ë¦¬í‚¤ëŠ” ì£¼ì†Œ ë³€ê²½ ê°€ëŠ¥ |
| **ì—­ì°¸ì¡° í•„ìš” ì—¬ë¶€** | âŒ ë¶ˆí•„ìš” (ì§ì ‘ ì‚¬ìš©) | âœ… í•„ìš” (`*ptr`) |

```cpp
int x = 10;
int& ref = x;  // ì°¸ì¡°
int* ptr = &x; // í¬ì¸í„°

*ptr = 20;  // x = 20
ref = 30;   // x = 30
```

---

## âœ… 5. ì°¸ì¡° vs í¬ì¸í„°: ì–¸ì œ ì‚¬ìš©í•´ì•¼ í• ê¹Œ?

### **ğŸ”¹ ì°¸ì¡°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ì€ ê²½ìš°**
âœ… **(1) í•¨ìˆ˜ ì¸ìë¡œ ì›ë³¸ ë°ì´í„°ë¥¼ ìˆ˜ì •í•  ë•Œ**
```cpp
void modify(int& num) { num += 10; }
int main() {
    int x = 10;
    modify(x);
    std::cout << x;  // 20
}
```

âœ… **(2) í•¨ìˆ˜ì—ì„œ ë¶ˆí•„ìš”í•œ ë³µì‚¬ë¥¼ ë°©ì§€í•  ë•Œ**
```cpp
void print(const std::string& text) { std::cout << text << std::endl; }
std::string str = "Long Text";
print(str);  // ë³µì‚¬ ì—†ì´ ì›ë³¸ ì‚¬ìš©
```

âœ… **(3) íŠ¹ì • ë³€ìˆ˜ë¥¼ ë³„ì¹­(alias)ë¡œ ì‚¬ìš©í•  ë•Œ**
```cpp
int x = 100;
int& alias = x;  // xì˜ ë³„ì¹­
alias = 200;
std::cout << x;  // 200
```

âœ… **(4) Rvalueë¥¼ í™œìš©í•˜ì—¬ ì„±ëŠ¥ ìµœì í™”í•  ë•Œ (ì´ë™ ì‹œë©˜í‹±)**
```cpp
void process(std::string&& str) { std::cout << "Processing: " << str << std::endl; }
process("Temporary String");
```

---

### **ğŸ”¹ í¬ì¸í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ì€ ê²½ìš°**
âœ… **(1) ì°¸ì¡°ë¥¼ ë³€ê²½í•´ì•¼ í•  ë•Œ**
```cpp
int a = 10, b = 20;
int* ptr = &a;
ptr = &b; // âœ… ê°€ëŠ¥
```

âœ… **(2) `nullptr`ì„ í—ˆìš©í•´ì•¼ í•  ë•Œ**
```cpp
int* ptr = nullptr;  // âœ… ê°€ëŠ¥
```

âœ… **(3) ë™ì  ë©”ëª¨ë¦¬ í• ë‹¹ì„ í•  ë•Œ (`new`/`delete`)**
```cpp
int* ptr = new int(10);
delete ptr;
```

âœ… **(4) ë°°ì—´ì„ ê°€ë¦¬í‚¬ ë•Œ**
```cpp
int arr[3] = {10, 20, 30};
int* ptr = arr;
ptr++;
```

âœ… **(5) í•¨ìˆ˜ì—ì„œ ë³€ìˆ˜ì˜ ì£¼ì†Œë¥¼ ì €ì¥í•´ì•¼ í•  ë•Œ**
```cpp
void modifyPointer(int** ptr) {
    static int y = 20;
    *ptr = &y;
}
```

---

## âœ… 6. ì°¸ì¡° vs í¬ì¸í„° ë¹„êµ ì •ë¦¬

| ì‚¬ìš© ëª©ì  | ì°¸ì¡° (`&`) | í¬ì¸í„° (`*`) |
|----------|------------|--------------|
| **ê°’ì„ ë³€ê²½í•´ì•¼ í•˜ëŠ” ê²½ìš°** | âœ… ì‚¬ìš© ê°€ëŠ¥ | âœ… ì‚¬ìš© ê°€ëŠ¥ |
| **ì°¸ì¡°í•˜ëŠ” ëŒ€ìƒ ë³€ê²½ ê°€ëŠ¥ ì—¬ë¶€** | âŒ ë¶ˆê°€ëŠ¥ | âœ… ê°€ëŠ¥ |
| **NULL(`nullptr`) ê°€ëŠ¥ ì—¬ë¶€** | âŒ ë¶ˆê°€ëŠ¥ | âœ… ê°€ëŠ¥ |
| **ë¶ˆí•„ìš”í•œ ë³µì‚¬ ë°©ì§€ (`const &`)** | âœ… ì‚¬ìš© ê°€ëŠ¥ | âŒ ë¶ˆí•„ìš”í•œ ë³µì‚¬ ë°œìƒ ê°€ëŠ¥ |
| **ë™ì  ë©”ëª¨ë¦¬ í• ë‹¹ (`new/delete`)** | âŒ ë¶ˆê°€ëŠ¥ | âœ… ê°€ëŠ¥ |
| **ë°°ì—´ì„ ë‹¤ë£° ë•Œ (`ptr++`)** | âŒ ë¶ˆê°€ëŠ¥ | âœ… ê°€ëŠ¥ |

---

## âœ… 7. ê²°ë¡ 
âœ” **ì°¸ì¡°(`&`): ì•ˆì „í•œ ë³„ì¹­, í•¨ìˆ˜ ì¸ìë¡œ ì‚¬ìš©í•  ë•Œ, ë³µì‚¬ ë°©ì§€(`const &`)**  
âœ” **í¬ì¸í„°(`*`): ê°€ë¦¬í‚¤ëŠ” ëŒ€ìƒ ë³€ê²½ ê°€ëŠ¥, `nullptr` í—ˆìš©, ë™ì  ë©”ëª¨ë¦¬ í• ë‹¹, ë°°ì—´ ì²˜ë¦¬**  
âœ” **Rvalue ì°¸ì¡°(`&&`): ì´ë™ ì—°ì‚°ì(move semantics)ë¥¼ í™œìš©í•˜ì—¬ ì„±ëŠ¥ ìµœì í™”**  


# C++ ì°¸ì¡°(Reference)ì™€ í¬ì¸í„°(Pointer)ì˜ ì„±ëŠ¥ ë¹„êµ

## ğŸ“Œ 1. ì°¸ì¡°ì™€ í¬ì¸í„°ëŠ” ì„±ëŠ¥ì´ ë™ì¼í• ê¹Œ?
C++ì—ì„œ **ì°¸ì¡°(`&`)ì™€ í¬ì¸í„°(`*`)ëŠ” ëª¨ë‘ ë³€ìˆ˜ì˜ ì£¼ì†Œë¥¼ í™œìš©í•˜ì—¬ ê°„ì ‘ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë‹¤ë£¨ì§€ë§Œ, ë¡œìš°ë ˆë²¨ì—ì„œ ì™„ì „íˆ ë™ì¼í•˜ê²Œ ë™ì‘í•œë‹¤ê³  ë³¼ ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤.**  
ëŒ€ë¶€ë¶„ì˜ ê²½ìš° **ì°¸ì¡°ëŠ” í¬ì¸í„°ì™€ ìœ ì‚¬í•œ ê¸°ê³„ì–´(ì–´ì…ˆë¸”ë¦¬ ì½”ë“œ)ë¡œ ë³€í™˜ë˜ë¯€ë¡œ ì„±ëŠ¥ ì°¨ì´ëŠ” ë¯¸ë¯¸í•˜ì§€ë§Œ, íŠ¹ì • ìƒí™©ì—ì„œëŠ” ì°¨ì´ê°€ ë°œìƒí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.**

---

## âœ… 2. ì°¸ì¡°ì™€ í¬ì¸í„°ì˜ ë¡œìš°ë ˆë²¨(ì–´ì…ˆë¸”ë¦¬) ë™ì‘ ë¹„êµ
### ğŸ”¹ **C++ ì½”ë“œ**
```cpp
void modify(int& ref) {  // ì°¸ì¡° ì‚¬ìš©
    ref = 20;
}

void modifyPtr(int* ptr) {  // í¬ì¸í„° ì‚¬ìš©
    *ptr = 20;
}

int main() {
    int x = 10;
    modify(x);    // ì°¸ì¡° í•¨ìˆ˜ í˜¸ì¶œ
    modifyPtr(&x); // í¬ì¸í„° í•¨ìˆ˜ í˜¸ì¶œ
}
```

### ğŸ”¹ **GCC ì»´íŒŒì¼ í›„ ì–´ì…ˆë¸”ë¦¬ ì½”ë“œ (x86-64)**
```assembly
modify(int&):
    mov DWORD PTR [rdi], 20  ; ì°¸ì¡°ë¥¼ í¬ì¸í„°ì²˜ëŸ¼ ë‹¤ë£¸
    ret

modifyPtr(int*):
    mov DWORD PTR [rdi], 20  ; í¬ì¸í„°ë¥¼ ì—­ì°¸ì¡°í•˜ì—¬ ê°’ ë³€ê²½
    ret
```
ğŸ“Œ **ì°¸ì¡°(`int& ref`)ì™€ í¬ì¸í„°(`int* ptr`)ì˜ ì–´ì…ˆë¸”ë¦¬ ì½”ë“œëŠ” ë™ì¼í•˜ê²Œ ë³€í™˜ë¨.**  
ğŸ“Œ **ì¦‰, í•¨ìˆ˜ ì¸ìë¡œ ì°¸ì¡°ë¥¼ ì‚¬ìš©í•´ë„ ë‚´ë¶€ì ìœ¼ë¡œëŠ” í¬ì¸í„°ì™€ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ë¨.**  
ğŸ“Œ **ë”°ë¼ì„œ ë‹¨ìˆœí•œ ë³€ìˆ˜ ì°¸ì¡°ëŠ” ì„±ëŠ¥ ì°¨ì´ê°€ ì—†ìŒ.**

---

## âœ… 3. ì„±ëŠ¥ ì°¨ì´ê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ” ê²½ìš°

### ğŸ”¹ (1) ìµœì í™” ê´€ì : ì°¸ì¡°ê°€ ë” ë¹ ë¥¼ ìˆ˜ ìˆìŒ
ì»´íŒŒì¼ëŸ¬ëŠ” **ì°¸ì¡°ê°€ ì ˆëŒ€ `nullptr`ì´ ë  ìˆ˜ ì—†ìŒì„ ë³´ì¥**í•˜ë¯€ë¡œ, ìµœì í™”ì—ì„œ ìœ ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```cpp
void modify(int& ref) {
    ref += 10;  // ì°¸ì¡°ëŠ” null-check ë¶ˆí•„ìš”
}

void modifyPtr(int* ptr) {
    if (ptr) {   // í¬ì¸í„°ëŠ” null-check í•„ìš”
        *ptr += 10;
    }
}
```
ğŸ“Œ **ì»´íŒŒì¼ëŸ¬ëŠ” ì°¸ì¡°ê°€ í•­ìƒ ìœ íš¨í•œ ë³€ìˆ˜ì„ì„ ë³´ì¥í•˜ê¸° ë•Œë¬¸ì—, ë¶ˆí•„ìš”í•œ `nullptr` ì²´í¬ë¥¼ ì œê±°í•˜ê³  ìµœì í™”í•  ìˆ˜ ìˆìŒ.**  
ğŸ“Œ **ë°˜ë©´, í¬ì¸í„°ëŠ” `nullptr` ì²´í¬ê°€ í•„ìš”í•  ìˆ˜ë„ ìˆì–´, ì•½ê°„ì˜ ì„±ëŠ¥ ì°¨ì´ê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ìˆìŒ.**

---

### ğŸ”¹ (2) ì°¸ì¡°ì˜ í•œê³„: ì°¸ì¡°ë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ìŒ
```cpp
int x = 10, y = 20;
int& ref = x;  // refëŠ” xë¥¼ ì°¸ì¡°

ref = y;  // âŒ refê°€ yë¥¼ ì°¸ì¡°í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, xì˜ ê°’ì„ yë¡œ ë³€ê²½
```
ğŸ“Œ **ì°¸ì¡°ëŠ” í•œ ë²ˆ íŠ¹ì • ë³€ìˆ˜ì— ì—°ê²°ë˜ë©´ ë³€ê²½í•  ìˆ˜ ì—†ìŒ.**  
ğŸ“Œ **ì´ ë•Œë¬¸ì— ê°€ë³€ì ì¸ ì£¼ì†Œë¥¼ ë‹¤ë¤„ì•¼ í•  ê²½ìš° í¬ì¸í„°ê°€ í•„ìˆ˜ì ì´ë©°, ì„±ëŠ¥ ë©´ì—ì„œ ë” ìœ ë¦¬í•  ìˆ˜ë„ ìˆìŒ.**

---

### ğŸ”¹ (3) ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°(OOP)ì—ì„œ ì°¸ì¡°ê°€ ë” ìœ ë¦¬í•œ ê²½ìš°
í´ë˜ìŠ¤ì˜ ë©¤ë²„ ë³€ìˆ˜ë¡œ í¬ì¸í„°ë¥¼ ì‚¬ìš©í•  ê²½ìš°, **ë™ì ìœ¼ë¡œ í• ë‹¹ëœ ê°ì²´ë¥¼ ì¶”ì í•˜ëŠ”ë° ì¶”ê°€ ë¹„ìš©ì´ ë°œìƒ**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```cpp
class MyClass {
private:
    int& ref;  // ì°¸ì¡° (ì¶”ì  ë¹„ìš© ì—†ìŒ)
    int* ptr;  // í¬ì¸í„° (NULL ì²´í¬ í•„ìš”)

public:
    MyClass(int& r, int* p) : ref(r), ptr(p) {}

    void update() {
        ref += 10;  // âœ… ì§ì ‘ ì ‘ê·¼ (ë¹ ë¦„)
        if (ptr) {  // âŒ NULL ì²´í¬ í•„ìš” (ì„±ëŠ¥ ì €í•˜ ê°€ëŠ¥)
            *ptr += 10;
        }
    }
};
```
ğŸ“Œ **í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œ ì°¸ì¡°ë¥¼ ì‚¬ìš©í•˜ë©´ NULL ì²´í¬ê°€ ë¶ˆí•„ìš”í•˜ì—¬ ì„±ëŠ¥ì´ í–¥ìƒë  ê°€ëŠ¥ì„±ì´ ìˆìŒ.**  
ğŸ“Œ **ë°˜ë©´, í¬ì¸í„°ë¥¼ ì‚¬ìš©í•  ê²½ìš° NULLì¸ì§€ ì²´í¬í•´ì•¼ í•˜ëŠ” ë¹„ìš©ì´ ì¶”ê°€ë  ìˆ˜ ìˆìŒ.**

---

### ğŸ”¹ (4) ë©€í‹°ìŠ¤ë ˆë”© í™˜ê²½ì—ì„œ í¬ì¸í„°ê°€ ë” ìœ ë¦¬í•œ ê²½ìš°
ë©€í‹°ìŠ¤ë ˆë”© í™˜ê²½ì—ì„œëŠ” **ì°¸ì¡°ë³´ë‹¤ëŠ” í¬ì¸í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•ˆì „í•  ìˆ˜ë„ ìˆìŒ**.

```cpp
void threadFunction(int& ref) {
    ref += 1;  // ğŸš¨ ë°ì´í„° ë ˆì´ìŠ¤ ë°œìƒ ê°€ëŠ¥
}

void threadFunction(int* ptr) {
    if (ptr) {
        *ptr += 1;  // âœ… ë” ì•ˆì „í•¨
    }
}
```
ğŸ“Œ **ì°¸ì¡°ëŠ” `nullptr`ì„ ê°€ì§ˆ ìˆ˜ ì—†ì–´ NULL ì²´í¬ë¥¼ í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—, ìŠ¤ë ˆë“œê°€ ì˜ˆê¸°ì¹˜ ì•Šê²Œ ë™ì‘í•  ìˆ˜ ìˆìŒ.**  
ğŸ“Œ **ë©€í‹°ìŠ¤ë ˆë”© í™˜ê²½ì—ì„œëŠ” ì•ˆì „ì„±ì„ ê³ ë ¤í•˜ì—¬ í¬ì¸í„°ë¥¼ ì„ í˜¸í•˜ëŠ” ê²½ìš°ê°€ ìˆìŒ.**

---

## âœ… 4. ì°¸ì¡° vs í¬ì¸í„°: ì„±ëŠ¥ ì°¨ì´ ì •ë¦¬

| êµ¬ë¶„ | ì°¸ì¡° (`&`) | í¬ì¸í„° (`*`) |
|------|-----------|-------------|
| **ì–´ì…ˆë¸”ë¦¬ ë³€í™˜** | âœ… í¬ì¸í„°ì™€ ë™ì¼ | âœ… ë™ì¼ |
| **ìµœì í™” ê°€ëŠ¥ì„±** | âœ… NULL ì²´í¬ ë¶ˆí•„ìš” | âŒ NULL ì²´í¬ í•„ìš” ê°€ëŠ¥ì„± |
| **ê°€ë³€ì„±** | âŒ ë³€ê²½ ë¶ˆê°€ëŠ¥ | âœ… ë³€ê²½ ê°€ëŠ¥ |
| **ë©€í‹°ìŠ¤ë ˆë“œ ì•ˆì •ì„±** | ğŸš¨ ìœ„í—˜ ê°€ëŠ¥ì„± ìˆìŒ | âœ… NULL ì²´í¬ ê°€ëŠ¥ |

---

## âœ… 5. ê²°ë¡ 
âœ” **ì¼ë°˜ì ì¸ ì„±ëŠ¥ì€ ë™ì¼í•˜ì§€ë§Œ, ìµœì í™” ì—¬ë¶€, ê°€ë³€ì„±, ìŠ¤ë ˆë“œ ì•ˆì „ì„± ë“±ì— ë”°ë¼ ì°¨ì´ê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ**.  
âœ” **ì»´íŒŒì¼ëŸ¬ê°€ ìµœì í™”ë¥¼ ì˜ ìˆ˜í–‰í•˜ë©´ ì„±ëŠ¥ ì°¨ì´ëŠ” ê±°ì˜ ì—†ì§€ë§Œ, ì°¸ì¡°ëŠ” ë¶ˆí•„ìš”í•œ NULL ì²´í¬ë¥¼ ì œê±°í•  ìˆ˜ ìˆì–´ ì•½ê°„ì˜ ìµœì í™” ê°€ëŠ¥ì„±ì´ ìˆìŒ**.  
âœ” **ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œëŠ” í¬ì¸í„°ê°€ ë” ì•ˆì „í•  ìˆ˜ë„ ìˆìŒ**.  



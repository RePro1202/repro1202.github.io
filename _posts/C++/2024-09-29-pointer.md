---
title: "[C++] ν¬μΈν„°"
author: RePro
date: 2024-09-29 10:00:00 +0900
categories: [Programming, C++]
tags: [c++]
---

# C++ ν¬μΈν„° μ •λ¦¬

## 1. κΈ°λ³Έ ν¬μΈν„° (Raw Pointer)

μΌλ°μ μΈ ν¬μΈν„°λ΅, λ³€μμ λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό μ €μ¥ν•κ³  κ°€λ¦¬ν‚¬ μ μλ‹¤.

```cpp
int x = 10;
int* ptr = &x;  // xμ μ£Όμ† μ €μ¥
std::cout << *ptr;  // μ¶λ ¥: 10 (μ—­μ°Έμ΅°)
```

- `*ptr`μ„ μ‚¬μ©ν•μ—¬ ν¬μΈν„°κ°€ κ°€λ¦¬ν‚¤λ” κ°’μ„ κ°€μ Έμ¬ μ μμ.
- `nullptr` λλ” `NULL`λ΅ μ΄κΈ°ν™”ν•μ—¬ μ“°λ κΈ° κ°’ λ°©μ§€.

```cpp
int* ptr = nullptr;  // μ•μ „ν• μ΄κΈ°ν™”
```
<!--
**μ΄μ¤‘ ν¬μΈν„° μ„¤λ…μ€ [μ΄κ³³](/2024-09-30-Multi-Level-Pointer.md) μ°Έκ³ **
 -->
---

## 2. μƒμ ν¬μΈν„° (Pointer to Constant)

ν¬μΈν„°κ°€ κ°€λ¦¬ν‚¤λ” κ°’ μμ²΄λ¥Ό λ³€κ²½ν•  μ μ—†λ„λ΅ μ ν•ν•λ” ν¬μΈν„°.

```cpp
const int x = 10;
const int* ptr = &x;  // μƒμ ν¬μΈν„° (const int*)
*ptr = 20;  // β μ¤λ¥! κ°’μ„ λ³€κ²½ν•  μ μ—†μ
ptr = &y;   // β… λ‹¤λ¥Έ μ£Όμ†λ” κ°€λ¦¬ν‚¬ μ μμ
```

---

## 3. ν¬μΈν„° μƒμ (Constant Pointer)

ν¬μΈν„°κ°€ ν•­μƒ λ™μΌν• λ©”λ¨λ¦¬ μ£Όμ†λ§ κ°€λ¦¬ν‚¤λ„λ΅ μ ν•ν•λ” ν¬μΈν„°.

```cpp
int x = 10;
int y = 20;
int* const ptr = &x;  // ν¬μΈν„° μμ²΄κ°€ μƒμ
ptr = &y;  // β μ¤λ¥! λ‹¤λ¥Έ μ£Όμ†λ΅ λ³€κ²½ λ¶κ°€
*ptr = 30; // β… κ°’ λ³€κ²½μ€ κ°€λ¥
```

---

## 4. μƒμ ν¬μΈν„° μƒμ (Constant Pointer to Constant)

ν¬μΈν„°κ°€ κ°€λ¦¬ν‚¤λ” κ°’κ³Ό μ£Όμ† λ¨λ‘ λ³€κ²½ λ¶κ°€λ¥ν• ν¬μΈν„°.

```cpp
const int x = 10;
const int* const ptr = &x;
*ptr = 20;  // β μ¤λ¥! κ°’ λ³€κ²½ λ¶κ°€
ptr = &y;   // β μ¤λ¥! μ£Όμ† λ³€κ²½ λ¶κ°€
```

---

## 5. `void*` ν¬μΈν„° (Generic Pointer)

νΉμ •ν• λ°μ΄ν„° νƒ€μ…μ„ μ§€μ •ν•μ§€ μ•μ€ ν¬μΈν„°.

```cpp
int x = 10;
void* ptr = &x;
std::cout << *(static_cast<int*>(ptr));  // μ¶λ ¥: 10
```

---

## 6. ν•¨μ ν¬μΈν„° (Function Pointer)

ν•¨μλ¥Ό κ°€λ¦¬ν‚¤λ” ν¬μΈν„°λ΅, λ™μ μΌλ΅ ν•¨μ νΈμ¶ κ°€λ¥.

```cpp
void hello() { std::cout << "Hello, world!"; }
int add(int a, int b) { return a + b; }

void (*funcPtr)() = hello;
funcPtr();  // μ‹¤ν–‰: Hello, world!
```

---

## 7. λ°°μ—΄ ν¬μΈν„° (Pointer to Array)

λ°°μ—΄ μ „μ²΄λ¥Ό κ°€λ¦¬ν‚¤λ” ν¬μΈν„°.

```cpp
int arr[3] = {1, 2, 3};
int (*ptr)[3] = &arr;
std::cout << (*ptr)[1];  // μ¶λ ¥: 2
```

---

## 8. `this` ν¬μΈν„° (ν΄λμ¤ λ‚΄λ¶€ ν¬μΈν„°)

ν΄λμ¤ λ‚΄λ¶€μ—μ„ κ°μ²΄ μκΈ° μμ‹ μ„ κ°€λ¦¬ν‚¤λ” ν¬μΈν„°.

```cpp
class Test {
public:
    void show() { std::cout << "This address: " << this << std::endl; }
};
```

---

## 9. μ¤λ§νΈ ν¬μΈν„° (Smart Pointer)

C++11λ¶€ν„° μ κ³µλλ” λ©”λ¨λ¦¬ μλ™ κ΄€λ¦¬ ν¬μΈν„°.
<!--
μμ„Έν• μ„¤λ…μ€ [μ΄κ³³](_site/posts/smartPointer/index.html) μ°Έκ³  
 -->

### `unique_ptr` (μ†μ κ¶ λ‹¨λ…)
```cpp
#include <memory>
std::unique_ptr<int> ptr = std::make_unique<int>(10);
```

### `shared_ptr` (μ°Έμ΅° μΉ΄μ΄νΈ)
```cpp
#include <memory>
std::shared_ptr<int> ptr1 = std::make_shared<int>(10);
std::shared_ptr<int> ptr2 = ptr1;  // μ°Έμ΅° μΉ΄μ΄νΈ μ¦κ°€
```

### `weak_ptr` (μν™ μ°Έμ΅° λ°©μ§€)
```cpp
#include <memory>
std::weak_ptr<int> weakPtr;
```

---

## 10. λ„ ν¬μΈν„° (Null Pointer)

```cpp
int* ptr = nullptr;  // μ•μ „ν• μ΄κΈ°ν™”
```

---

## 11. λ©”λ¨λ¦¬ μ£Όμ† κ³„μ‚°μ© ν¬μΈν„° (Pointer Arithmetic)

```cpp
int arr[] = {10, 20, 30};
int* ptr = arr;
std::cout << *(ptr + 1);  // μ¶λ ¥: 20
```

---

## 12. π“ ν¬μΈν„° μΆ…λ¥ μ •λ¦¬

| ν¬μΈν„° μΆ…λ¥ | μ„¤λ… |
|------------|------|
| **κΈ°λ³Έ ν¬μΈν„°** | μΌλ°μ μΈ ν¬μΈν„° |
| **μƒμ ν¬μΈν„°** | κ°€λ¦¬ν‚¤λ” κ°’ λ³€κ²½ λ¶κ°€ |
| **ν¬μΈν„° μƒμ** | ν¬μΈν„° μ£Όμ† λ³€κ²½ λ¶κ°€ |
| **μ™„μ „ μƒμ ν¬μΈν„°** | κ°’ + μ£Όμ† λ³€κ²½ λ¶κ°€ |
| **void\* ν¬μΈν„°** | νƒ€μ…μ΄ μ—†λ” ν¬μΈν„° |
| **ν•¨μ ν¬μΈν„°** | ν•¨μλ¥Ό κ°€λ¦¬ν‚¤λ” ν¬μΈν„° |
| **λ°°μ—΄ ν¬μΈν„°** | λ°°μ—΄μ„ κ°€λ¦¬ν‚¤λ” ν¬μΈν„° |
| **this ν¬μΈν„°** | ν΄λμ¤ λ‚΄μ—μ„ μκΈ° μμ‹  μ°Έμ΅° |
| **μ¤λ§νΈ ν¬μΈν„°** | λ©”λ¨λ¦¬ μλ™ κ΄€λ¦¬ ν¬μΈν„° |
| **λ„ ν¬μΈν„°** | μ–΄λ–¤ κ°μ²΄λ„ κ°€λ¦¬ν‚¤μ§€ μ•λ” ν¬μΈν„° |
| **λ©”λ¨λ¦¬ μ£Όμ† κ³„μ‚° ν¬μΈν„°** | ν¬μΈν„° μ—°μ‚° μ‚¬μ© |

---

## λ²μ™Έ.

### 1. `int* x;` or `int *x;`

ν¬μΈν„° κΈ°νΈ '*'λ” μλ£ν•μ— λ¶™μΌκΉ μ΄λ¦„μ— λ¶™μΌκΉ?

μ •ν•΄μ§„ λ‹µμ€ μ—†κ³  μ‹¤μ λ„ λ‘ κ°€μ§€ μ¤νƒ€μΌ λ¨λ‘ λ³Ό μμλ‹¤. κµ¬κΈ€ C++ μ¤νƒ€μΌ κ°€μ΄λ“μ—λ” λ‘ κ°€μ§€ μ¤νƒ€μΌ λ¨λ‘ μ‚¬μ© κ°€λ¥ ν•μ§€λ§, ν• νμΌμ—μ„ ν• κ°€μ§€ μ¤νƒ€μΌμ„ μ μ§€ ν•΄μ•Ό ν•λ‹¤κ³  μ •ν•λ‹¤.

λ‹¤λ§, `int * x`μ΄λ° μ‹μΌλ΅ κ³µλ°±μ„ λ‘ λ‹¤ μ£Όλ” κ²½μ°λ” μ μ—†κ³  κµ¬κΈ€ μ¤νƒ€μΌ κ°€μ΄λ“μ—μ„λ„ κ¶μ¥ν•μ§€ μ•λ”λ‹¤.

> You should do this consistently within a single file. When modifying an existing file, use the style in that file. 
> 
> ...
> 
> char * c;  // Bad - spaces on both sides of *
> 
> [κµ¬κΈ€ C++ μ¤νƒ€μΌ κ°€μ΄λ“](https://google.github.io/styleguide/cppguide.html#Rvalue_references)

--- 

μ°Έκ³ λ΅ `char *x` ν•μ‹μ΄ μ „ν†µμ μΈ Cμ¤νƒ€μΌ μ΄κ³  λ³€μλ¥Ό μ—¬λ¬κ° μ„ μ–Έν• λ• λ” μ§κ΄€μ μ΄λ‹¤.

```cpp
    char* a, b; // a, b λ‘λ‹¤ char* μ²λΌ λ³΄μ΄μ§€λ§ aλ” char*, bλ” charλ‹¤.

    char *a, b; // μ΄λ° κ²½μ°λ” λ³€μλ…μ— κΈ°νΈλ¥Ό λ¶™μ΄λ” κ²ƒμ΄ λ” μ§κ΄€μ μΌ μ μλ‹¤.
```
<br>

ν•μ§€λ§ λ‘ κ°€μ§€ λ¨λ‘ νΌλ€μ„ μ•ΌκΈ°ν•κΈ° λ•λ¬Έμ— κµ¬κΈ€ κ°€μ΄λ“μ—μ„λ” ν• λ²μ— λ³€μλ¥Ό μ—¬λ¬κ° μ„ μ–Έν• λ• ν¬μΈν„°λ‚ μ°Έμ΅° κΈ°νΈκ°€ λ“¤μ–΄κ°€λ” κ²ƒμ„ κΈμ§€ ν•λ‹¤.

```cpp
// Fine if helpful for readability.
int x, y;

int x, *y;  // Disallowed - no & or * in multiple declaration
int* x, *y;  // Disallowed - no & or * in multiple declaration; inconsistent spacing


// μµμ†ν• μ΄λ°μ‹μΌλ΅ μ‚¬μ©ν•μ.
int x; int *y;
int* x, int y;
```
κ²°λ΅ μ μΌλ΅ μΌκ΄€μ„±μ„ μ μ§€ν•λ‹¤λ©΄ `int* x;` or `int *x;` λ‘ λ‹¤ κ΄μ°¬λ‹¤. ν¬μΈν„° λ³€μ μ„ μ–Έμ€ κ°λ³„λ΅ ν•μ.

